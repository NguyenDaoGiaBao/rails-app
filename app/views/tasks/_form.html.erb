<% content_for :styles do %>>
  <%= stylesheet_link_tag "flatpickr" %>
  <%= stylesheet_link_tag "switches" %>
  <style>
      svg {
          align-self: center;
          font-size: 19px;
          margin-right: 14px;
          color: #009688;
          font-weight: 600;
      }
  </style>
<% end %>

<div class="widget-content widget-content-area">
  <%= form_with model: @task, local: true do |form| %>
    <div class="row mb-3">
      <label for="colFormLabel" class="col-sm-2 col-form-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg></label>
      <div class="col-sm-10">
        <%= form.text_field :title, class: "form-control #{'is-invalid' if @task.errors[:title].any?}", placeholder: "Task" %>
      </div>
    </div>
    <div class="row mb-3">
      <label for="colFormLabel" class="col-sm-2 col-form-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></label>
      <div class="col-sm-10">
        <%= form.text_area :description, class: "form-control #{'is-invalid' if @task.errors[:description].any?}", rows: 6, placeholder: "Description" %>
      </div>
    </div>
    <div class="row mb-3">
      <label for="colFormLabel" class="col-sm-2 col-form-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></label>
      <div class="col-sm-10">
        <%= form.text_field :due_date, class: "form-control #{'is-invalid' if @task.errors[:due_date].any?} flatpickr flatpickr-input active", placeholder: "Select Date..", id: "basicFlatpickr" %>
      </div>
    </div>
    <div class="row mb-3">
      <label for="colFormLabel" class="col-sm-2 col-form-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-octagon"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></label>
      <div class="col-sm-10">
        <%= form.select :priority, Task.priorities.keys.map { |p| [p, p] }, { prompt: "Select priority" }, { class: "form-control #{'is-invalid' if @task.errors[:priority].any?}" } %>
      </div>
    </div>
    <div class="row mb-3">
      <label for="colFormLabel" class="col-sm-2 col-form-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></label>
      <div class="col-sm-10">
        <div class="switch form-switch-custom switch-inline form-switch-warning">
          <%= form.check_box :important, id: "form-custom-switch-default", class: "switch-input", role: "switch" %>
          <label class="switch-label" for="form-custom-switch-info">Important</label>
        </div>
      </div>
    </div>
    <div class="text-end">
      <%= form.submit "Save", class: "btn edit-tsk btn-success" %>
    </div>
  <% end %>
</div>
<% content_for :scripts do %>
  <%= javascript_include_tag "flatpickr", "data-turbo-track": "reload" %>
  <script>
      var f1 = flatpickr(document.getElementById('basicFlatpickr'), {
          minDate: new Date().fp_incr(0)
      });
  </script>
<% end %>